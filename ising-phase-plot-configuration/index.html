<!DOCTYPE html>
<!-- KaTeX requires the use of the HTML5 doctype. Without it, KaTeX may not render properly -->
<html>
    <head>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="./main.css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">

        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous"></script>

        <!-- To automatically render math in text elements, include the auto-render extension: -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous" id="auto_render_script"></script>
    </head>
    <body>
        <h1>展示二维正方晶格伊辛模型的自旋构型</h1>

        <canvas id="ising_configuration" width="400" height="400"></canvas>
        <div id="control_panel">
            在这个页面上，你可以设置二维正方晶格上的伊辛模型
            $$
            H = - J \sum_{\lang \boldsymbol{i}, \boldsymbol{j} \rang} \sigma_{\boldsymbol{i}} \sigma_{\boldsymbol{j}} - h \sum_{\boldsymbol{i}} \sigma_{\boldsymbol{i}}
            $$
            的磁场$h$（我们固定$J=1$）和系统温度$T$，以及系统大小$L$，观察自旋构型会发生什么变化。提示：$J = 1$时，$T_\text{c} = 2.2691853142$。观察接近临界点和远离临界点时的系统行为。
            注意我们是从所有自旋方向和磁场一致开始模拟的，在接近临界点时，更新较慢，需要一定时间才能够看到达到热平衡时的构型。<br>

            <div id="ising_input_form">
                <label for="magnetic_field">$h$</label>
                <input type="text" id="magnetic_field" name="magnetic_field" value="0.0"><br>
                <label for="temperature">$T$</label>
                <input type="text" id="temperature" name="temperature" value="4.0"><br>
                <label for="lattice_size">$L$</label>
                <input type="text" id="lattice_size" name="lattice_size" value="60"><br>
                <button id="start_show_config">开始模拟</button> <button id="stop_show_config">停止模拟</button>
            </div>
        </div>

        <script src="math-js-10.4.0.js"></script>
        <script src="utils.js"></script>
        <script src="ising-core.js"></script>
        <script src="lattice.js"></script>
        <script src="app.js"></script>

        <script defer>
            document.getElementById("auto_render_script").addEventListener("load", () => {
                renderMathInElement(document.body, {delimiters: [
                            {left: "$$", right: "$$", display: true},
                            {left: "\\[", right: "\\]", display: true},
                            {left: "$", right: "$", display: false},
                            {left: "\\(", right: "\\)", display: false}
                        ]
                    });
            });
        </script>
    </body>
</html>