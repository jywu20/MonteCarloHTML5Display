# 运行

要做正常的物理量测量和binning，请运行`main.jl`，控制台会输出一段这样的信息：
```
Welcome to a simple DQMC simulation of Hubbard model.

Initialization completed.
We are simulating with
  t      =   1.0
  U      =   5.0
  beta   =   4.0
  dtau   =   0.05
  alpha  =   0.510478845502127
on a 4 * 4 2d lattice and with 80 time steps.

Heating up for 256 steps.
Heating up completed.

Observables:
Bin 1 completed.
E_kin      =   -1.2045032963701243 ± 0.28648926696617244
double_occ =   0.09856371845959622 ± 0.028519467942699075
mag        =   0.054580474724299305 ± 0.04747632604240004

Observables:
Bin 2 completed.
E_kin      =   -1.20216882776162 ± 0.25620620956802176
double_occ =   0.09558066552911403 ± 0.038947256518834204
mag        =   0.045807928490123224 ± 0.045399420475073574

Observables:
Bin 3 completed.
E_kin      =   -1.2012970336250002 ± 0.2921785425382609
double_occ =   0.09732918889104866 ± 0.028670780249159672
mag        =   0.044816780835612614 ± 0.04280436019790206

Observables:
Bin 4 completed.
E_kin      =   -1.233776945879493 ± 0.2724002455023293
double_occ =   0.10128750929257781 ± 0.0272339588188854
mag        =   0.06315329137790068 ± 0.05355712680800182

Observables:
Bin 5 completed.
E_kin      =   -1.200874101326975 ± 0.3015754135511448
double_occ =   0.09980109880890232 ± 0.02666961150719493
mag        =   0.04121831496257155 ± 0.043322350144342776



Bin average data:
========================================================
E_kin            double_occ      magnetization
========================================================
-1.2045032964    0.0985637185    0.0545804747 
-1.2021688278    0.0955806655    0.0458079285
-1.2012970336    0.0973291889    0.0448167808
-1.2337769459    0.1012875093    0.0631532914
-1.2008741013    0.0998010988    0.0412183150

Binning results:
-------------------------------------------------------------
E_kin      =   -1.2085240409926423 ± 0.01418639788790565
double_occ =   0.0985124361962478 ± 0.002199980983991076
mag        =   0.04991535807810148 ± 0.008881317723792114
```

其中`E_kin`表示平摊到单个电子上的东能，`double_occ`表示每个格点的平均双占据数，`mag`是反铁磁序参量，越大越说明相邻格点上的自旋反向。

要改变参数，请修改`config.jl`，其中各项内容的意义是自明的。

要改变被测量的物理量，请修改`observe.jl`（并请修改`main.jl`中的`println`语句，让控制台输出可读）。

要观看动画或检查heating up中能量是否收敛，请使用`check-configuration.jl`；动画的各帧将出现在输出目录（请千万主义输出目录！重复运行程序将会覆盖原有的内容）中，使用Beamer和animate包即可得到PDF动画，或者打包成gif也可以；heat up时的能量会输出在控制台，可自行复制后绘图。

# 核心代码

`lib.jl`以及被它include的各个文件包含了运行Hubbard模型需要的全部程序。

要引入正方晶格以外的结构，请按照`lattice.jl`中的说明自行定义晶格，并且将`main.jl`中的`SquareLattice2D`替换掉。
